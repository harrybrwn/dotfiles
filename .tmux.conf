# cat << EOF > /dev/null

# Set prefix to ctrl-f
set -g prefix C-f
unbind C-b

set -g default-terminal 'xterm-256color'
#set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"

set -g base-index 1
setw -g pane-base-index 1

# Vim-like keybindings
bind-key v split-window -h
bind-key s split-window -v
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

bind '"' split-window -v -c "#{pane_current_path}"
bind '%' split-window -h -c "#{pane_current_path}"

bind r source-file ~/.tmux.conf
bind s set -g status
bind S new -s school -c ~/school \;\
       rename-window 'school' \;\
       neww -n cse  -c ~/school/cse31  \;\
       neww -n wri  -c ~/school/wri119 \;\
       neww -n engr -c ~/school/engr45 \;\
       neww -n math -c ~/school/math24 \;\
       select-window -t 1
bind K kill-session

run 'sh ~/.config/tmux/key-bindings.sh apply'

BG=default
dull=colour246
important=colour253
SEP="#[fg=magenta]▕▏#[fg=default]"
tmuxconf='~/.config/tmux'
cpu_status="#[fg=#{dull}]cpu: #[fg=#{important}]#(#{tmuxconf}/cpu.py) #(#{tmuxconf}/temp.sh)"
wifi_status='#[fg=#{dull}]#(#{tmuxconf}/wifi.sh -a)'
mem_status="#[fg=#{dull}]mem: #[fg=#{important}]#(#{tmuxconf}/mem.sh -h)"
battery='#(#{tmuxconf}/bat.sh)'

status_date='#[bg=#{BG},fg=#{dull}]%b %d, %Y'
status_time='#[fg=#{important}]%l:%M %P#[bg=default]'

if_width_lt_110="#(test ! #{window_width} -lt 110; echo $?)"

set -g pane-active-border-style fg=magenta

# Status Bar config
set -g status-interval 10
set -g status-justify left
set -g status-right-length 110
set -g status-left-length 50
set -g status-position bottom
set -g status-bg $BG
set -g message-fg "$dull"
set -g message-bg default
set -g status-left "#[bg=magenta,fg=colour0]#{?client_prefix,#[bg=colour250]#[italics] #S ,[#S]}#[bg=$BG,fg=colour12] "
setw -g window-status-format '#[bg=colour0,fg=$dull]#[fg=colour7] #W '
setw -g window-status-current-format '#[bg=colour239,fg=colour251,nobold,italics] #W '

set -g  status-right "#{?$if_width_lt_110,,"
                        # do nothing
                    # else
set -ag status-right    "$cpu_status #{SEP} $mem_status #{SEP} $wifi_status #{SEP} "
set -ag status-right "}" # endif
set -ag status-right "$status_date $status_time $battery"

